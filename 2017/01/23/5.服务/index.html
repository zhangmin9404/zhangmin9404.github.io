<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>服务  | zm_miner</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="依赖注入 内置服务 自定义服务">
<meta name="keywords" content="AngularJs">
<meta property="og:type" content="article">
<meta property="og:title" content="服务 ">
<meta property="og:url" content="http://www.ring1314.com/2017/01/23/5.服务/index.html">
<meta property="og:site_name" content="zm_miner">
<meta property="og:description" content="依赖注入 内置服务 自定义服务">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-8f059f5bddf4db20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-8ad3d9a86497d894.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-de8e70202f43b1f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-607a0a69401eb197.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-9801f5579e52c380.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-b5ee4f391798d164.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/4017085-0d3bd25d0f7343e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-05-23T16:51:08.926Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="服务 ">
<meta name="twitter:description" content="依赖注入 内置服务 自定义服务">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/4017085-8f059f5bddf4db20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
  
    <link rel="alternative" href="/atom.xml" title="zm_miner" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/log.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85415703-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/log.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">张敏</a></h1>
		</hgroup>

		
		<p class="header-subtitle">努力挤进IT行</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/about/">关于我</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AngularJS/" style="font-size: 13.33px;">AngularJS</a> <a href="/tags/AngularJs/" style="font-size: 20px;">AngularJs</a> <a href="/tags/Javascript/" style="font-size: 16.67px;">Javascript</a> <a href="/tags/canvas/" style="font-size: 10px;">canvas</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">张敏</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/log.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">张敏</h1>
			</hgroup>
			
			<p class="header-subtitle">努力挤进IT行</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/about/">关于我</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-5.服务" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/23/5.服务/" class="article-date">
  	<time datetime="2017-01-22T17:30:00.000Z" itemprop="datePublished">2017-01-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      服务 
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AngularJs/">AngularJs</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/AngularJs/">AngularJs</a>
	</div>


        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>服务<br><a id="more"></a></p>
<h1 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h1><p>AngularJS采用模块化的方式组织代码，将一些通用逻辑封装成一个对象或函数，实现最大程度的复用<br>这导致了使用者和被使用者之间存在依赖关系。<br>所谓依赖注入是指在运行时自动查找依赖关系<br>然后将查找到依赖传递给使用者的一种机制。</p>
<h3 id="1-行内式注入"><a href="#1-行内式注入" class="headerlink" title="1.行内式注入"></a>1.行内式注入</h3><p>  以数组形式明确声明依赖，数组元素都是包含依赖名称的字符串，数组最后一个元素是依赖注入的目标函数<br>  推荐使用行内式注入.</p>
<h3 id="2-推断式注入"><a href="#2-推断式注入" class="headerlink" title="2.推断式注入"></a>2.推断式注入</h3><p>  没有明确声明依赖，AngularJS会将函数参数名称当成是依赖的名称<br>  这种方式会带来一个问题，当代码经过压缩后函数的参数被压缩，这样便会造成依赖无法找到。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">  &lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&quot;zmController&quot;&gt;</div><div class="line"></div><div class="line">&lt;input type=&quot;text&quot; ng-model=&quot;msg&quot;&gt;</div><div class="line">&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模板*/</div><div class="line">    var app=angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">//    行内式注入</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,function($scope)&#123;</div><div class="line">/*因为我依赖$scope这个模块先找$scope,找到了就直接传递给function中的参数</div><div class="line">* function中的$scope可以更改</div><div class="line">* */</div><div class="line">      $scope.msg=&quot;zm&quot;</div><div class="line">    &#125;])</div><div class="line"></div><div class="line">//    推断式注入</div><div class="line">    app.controller(&quot;zmController1&quot;,function($scope)&#123;</div><div class="line">/*前面没有</div><div class="line">* 先根据名称尝试找有没有$scope  有,就拿来用 但是当代码发布时会压缩代码,构建工具会自动修改参数的名称 就找不到$scope</div><div class="line">* </div><div class="line">* */</div><div class="line">            $scope.msg=&quot;zm1&quot;</div><div class="line">    &#125;)</div><div class="line">    /*3.绑定模板*/</div><div class="line">    /*4.绑定控制器*/</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h1 id="什么是服务"><a href="#什么是服务" class="headerlink" title="什么是服务"></a>什么是服务</h1><h3 id="angular在一开始就帮我们定义一些功能。我可以直接使用这些功能。都是一个方法或者一个对象的形式来调用指定的功能。想要使用这些服务。必须得要注入。所谓服务是将一些通用性的功能逻辑进行封装方便使用，AngularJS允许将自定义服务。"><a href="#angular在一开始就帮我们定义一些功能。我可以直接使用这些功能。都是一个方法或者一个对象的形式来调用指定的功能。想要使用这些服务。必须得要注入。所谓服务是将一些通用性的功能逻辑进行封装方便使用，AngularJS允许将自定义服务。" class="headerlink" title="angular在一开始就帮我们定义一些功能。我可以直接使用这些功能。都是一个方法或者一个对象的形式来调用指定的功能。想要使用这些服务。必须得要注入。所谓服务是将一些通用性的功能逻辑进行封装方便使用，AngularJS允许将自定义服务。"></a>angular在一开始就帮我们定义一些功能。我可以直接使用这些功能。都是一个方法或者一个对象的形式来调用指定的功能。想要使用这些服务。必须得要注入。所谓服务是将一些通用性的功能逻辑进行封装方便使用，AngularJS允许将自定义服务。</h3><h2 id="内置服务："><a href="#内置服务：" class="headerlink" title="内置服务："></a>内置服务：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$location</div><div class="line">$log</div><div class="line">$timeout $interval</div><div class="line">$http </div><div class="line">$filter</div><div class="line">angular允许开发自己根据自己的需求来自定义自己的功能。</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-8f059f5bddf4db20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-8ad3d9a86497d894.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="location服务"><a href="#location服务" class="headerlink" title="location服务 "></a>location服务 <img src="http://upload-images.jianshu.io/upload_images/4017085-de8e70202f43b1f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></h2><p> url是锚点之后的url</p>
<p> hash值是第二个锚点之后的hash值</p>
<p><strong>内置指令</strong></p>
<p><strong>自定义指令</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.directive(&quot;zm&quot;,function()&#123;</div><div class="line">   return&#123;</div><div class="line">       restrict : &apos;EA&apos;,</div><div class="line">       template:&apos;&apos;,</div><div class="line">       replace:true,</div><div class="line">       tranclude:true</div><div class="line">   &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p><strong>内置过滤器</strong></p>
<p><strong>自定义过滤器</strong></p>
<p>本质:就是一个方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.filter(&quot;filterName&quot;,function()&#123;</div><div class="line">       return function (input) &#123;</div><div class="line">       &#125;</div><div class="line">   &#125;);</div></pre></td></tr></table></figure></p>
<p><strong>内置服务</strong></p>
<h2 id="自定义服务"><a href="#自定义服务" class="headerlink" title="自定义服务"></a>自定义服务</h2><p>本质:就是一个对象,也可以以方法的形式存在</p>
<p>目的:把公用的功能,给封装到一起,进行复用.</p>
<p> $scope.url=location.url();</p>
<h3 id="service自定义服务"><a href="#service自定义服务" class="headerlink" title="service自定义服务"></a>service自定义服务</h3><p>直接挂在this上使用</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-607a0a69401eb197.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;zmService&quot;,function($scope,zmService)&#123;</div><div class="line">        zmService.say();</div><div class="line"></div><div class="line">        $scope.curTime=zmService.showDateTime();</div><div class="line"></div><div class="line">    &#125;])</div><div class="line"></div><div class="line">    /*3.绑定模板*/</div><div class="line">    /*4.绑定控制器*/</div><div class="line"></div><div class="line">    /*内置指令*/</div><div class="line">    /*自定义指令*/</div><div class="line">    app.directive(&quot;zm&quot;,function()&#123;</div><div class="line">        return&#123;</div><div class="line">            restrict : &apos;EA&apos;,</div><div class="line">            template:&apos;&apos;,</div><div class="line">            replace:true,</div><div class="line">            tranclude:true</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">    /*内置过滤器*/</div><div class="line">    /*自定义过滤器</div><div class="line">    * 本质:就是一个方法</div><div class="line">    * */</div><div class="line">    app.filter(&quot;filterName&quot;,function()&#123;</div><div class="line">        return function (input) &#123;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    /*内置服务*/</div><div class="line">    /*自定义服务</div><div class="line">    * 本质:就是一个对象,也可以以方法的形式存在</div><div class="line">    * $scope.url=location.url();</div><div class="line">    * */</div><div class="line"></div><div class="line">    /*系统内置服务前面喜欢加$符,自己可以不用*/</div><div class="line">/*    app.service(&apos;zmService&apos;,function()&#123;</div><div class="line">        /!*可以往里面写方法*!/</div><div class="line">        this.say=function () &#123;</div><div class="line">            console.log(&quot;hello&quot;);</div><div class="line">        &#125;/!*可以自定义好多个方法*!/</div><div class="line">        this.showTime = function()&#123;</div><div class="line">            var cutTime = new Date();</div><div class="line">            //我要过滤当前的时间</div><div class="line">            /!*我还要依赖其他服务,所以要注入到当前服务中*!/</div><div class="line">        &#125;</div><div class="line">    &#125;)*/</div><div class="line"></div><div class="line">    app.service(&apos;zmService&apos;,[&quot;$filter&quot;,function($filter)&#123;</div><div class="line">        /*可以往里面写方法*/</div><div class="line">        this.say=function () &#123;</div><div class="line">            console.log(&quot;hello&quot;);</div><div class="line">        &#125;/*可以自定义好多个方法*/</div><div class="line">        this.showDateTime = function()&#123;</div><div class="line">            var curTime = new Date();</div><div class="line">            //我要过滤当前的时间</div><div class="line">            /*我还要依赖其他服务,所以要注入到当前服务中*/</div><div class="line">            var date= $filter(&apos;date&apos;);</div><div class="line">            return date(curTime,&quot;yyyy-MM-dd&quot;)</div><div class="line">        &#125;</div><div class="line">    &#125; ])</div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&apos;zmController&apos;&gt;</div><div class="line"></div><div class="line">        &lt;p&gt;&#123;&#123;curTime&#125;&#125;&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-9801f5579e52c380.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="factory自定义服务"><a href="#factory自定义服务" class="headerlink" title="factory自定义服务"></a>factory自定义服务</h3><p>return一个对象</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-b5ee4f391798d164.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="3.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;zmService&quot;,&quot;myService&quot;,function($scope,zmService,myService)&#123;</div><div class="line">        zmService.mySay();</div><div class="line">        zmService.myTime();/*key值 key值变化,他就要变化*/</div><div class="line">        myService();</div><div class="line">    &#125;])</div><div class="line">    /*系统内置服务前面喜欢加$符,自己可以不用*/</div><div class="line">    /*1.调用形式  服务的名称.方法名称*/</div><div class="line">    app.factory(&apos;zmService&apos;,function() &#123;</div><div class="line">        /*可以往里面写方法*/</div><div class="line">        function showDateTime()&#123;</div><div class="line">            console.log(&quot;show Time&quot;);</div><div class="line">        &#125;</div><div class="line">        function say()&#123;</div><div class="line">            console.log(&quot;hello&quot;);</div><div class="line">        &#125;</div><div class="line">        return&#123;</div><div class="line">            myTime:showDateTime,/*key:value  key:服务调用的方法名称  value 自己在内容声明的方法名称*/</div><div class="line">            mySay:say,</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    /*想使用必须要注入*/</div><div class="line">    /*可以直接调用服务名称</div><div class="line">    * 2.调用形式使用   服务名称()</div><div class="line">    * */</div><div class="line">    app.factory(&apos;myService&apos;,function()&#123;</div><div class="line">        return function()&#123;</div><div class="line">            console.log(&apos;执行了myService&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&apos;zmController&apos;&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>1.先自定义服务   系统内置服务前面喜欢加$符,自己可以不用</strong></p>
<p>两种方式:</p>
<ul>
<li><p>1.调用形式  服务的名称.方法名称</p>
</li>
<li><p>2.调用形式使用   服务名称()</p>
</li>
</ul>
<p><strong>2.在控制器中注入使用</strong></p>
<p><strong>3.在页面展示出来</strong></p>
<h2 id="demo使用三种方式"><a href="#demo使用三种方式" class="headerlink" title="demo使用三种方式"></a>demo使用三种方式</h2><ul>
<li>1.服务名称 直接调用形式<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;formData&quot;,function($scope,$http,formData)&#123;</div><div class="line">      &lt;!--$http(&#123;--&gt;</div><div class="line">      &lt;!--     url:&quot;post.php&quot;,--&gt;</div><div class="line">      &lt;!--     method:&apos;post&apos;,--&gt;</div><div class="line">      &lt;!--     //我现在就想在传递data数据时,传递参数方式只用传一个参数就行,向下面一样,但是这种方法是不允许的所以我想自己封装一个formData的格式--&gt;</div><div class="line">      &lt;!--     data:&#123;--&gt;</div><div class="line">      &lt;!--         name:&apos;zm&apos;,--&gt;</div><div class="line">      &lt;!--         age:23--&gt;</div><div class="line">      &lt;!--         &#125;--&gt;</div><div class="line">    </div><div class="line">    </div><div class="line">    当自己封装好以后的时候,就可以拿来用了</div><div class="line">    使用的格式是:</div><div class="line">    data:formData(</div><div class="line">       name:&apos;zm&apos;,</div><div class="line">       age:23</div><div class="line">       &#125;)</div><div class="line">      &lt;!-- &#125;)--&gt;</div><div class="line">      </div><div class="line">     </div><div class="line">      </div><div class="line">        /*把对象格式转成formDate形式</div><div class="line">         &#123; </div><div class="line">         name:&apos;zm&apos;,</div><div class="line">         age:23</div><div class="line">         &#125;</div><div class="line">         name=zm&amp;&amp;age=23</div><div class="line">         * */</div><div class="line">         </div><div class="line">        formData(&#123;</div><div class="line">            name:&quot;zm&quot;,</div><div class="line">            age:23</div><div class="line">        &#125;)</div><div class="line">    &#125;])</div><div class="line">    app.factory(&apos;formData&apos;,function()&#123;</div><div class="line">        return function(obj)&#123; //传入一个对象</div><div class="line">            var res = &apos;&apos;;</div><div class="line">            for (key in obj)&#123;</div><div class="line">                res+=key +&quot;=&quot; +obj[key] + &quot;&amp;&quot;;</div><div class="line">            &#125;</div><div class="line">            res = res.slice(0,-1); //切割掉最后的&amp;符号</div><div class="line">            console.log(res);</div><div class="line">            return res;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos;  ng-controller=&apos;zmController&apos;&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>打印输出:name=zm&amp;age=23</p>
<ul>
<li>2.服务的名称.方法名称</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">//    1. 2</div><div class="line">//    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;formParamsZm&quot;,function($scope,$http,formParamsZm)&#123;</div><div class="line">        app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;formPortParams&quot;,function($scope,$http,formPortParams)&#123;</div><div class="line">        //2</div><div class="line">        var params = &#123;</div><div class="line">            name:&quot;zm&quot;,</div><div class="line">            age:23</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">         formPortParams.postForm(params);</div><div class="line"></div><div class="line"></div><div class="line">    &#125;])</div><div class="line"></div><div class="line">    /*3.绑定模板*/</div><div class="line">    /*4.绑定控制器*/</div><div class="line"></div><div class="line"></div><div class="line">        app.factory(&apos;formPortParams&apos;,function()&#123;</div><div class="line"></div><div class="line">          function formPortParams(obj)&#123;</div><div class="line">                var res = &apos;&apos;;</div><div class="line">                for (key in obj)&#123;</div><div class="line">                    res+=key +&quot;=&quot; +obj[key] + &quot;&amp;&quot;;</div><div class="line">                &#125;</div><div class="line">                res = res.slice(0,-1);</div><div class="line">                console.log(res);</div><div class="line">                return res;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">            return &#123;</div><div class="line">              postForm:formPortParams</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;)</div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&apos;zmController&apos;&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<ul>
<li>3.可以使用service自定义服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;formParamsZm&quot;,function($scope,$http,formParamsZm)&#123;</div><div class="line">        var params = &#123;</div><div class="line">            name:&quot;zm&quot;,</div><div class="line">            age:23</div><div class="line">        &#125;</div><div class="line">        $http(&#123;</div><div class="line">            url:&quot;post.php&quot;,</div><div class="line">            method:&apos;post&apos;,</div><div class="line">           data:formParamsZm.formZm(params)</div><div class="line">        &#125;)</div><div class="line">       </div><div class="line">    &#125;])</div><div class="line"></div><div class="line">    app.service(&apos;formParamsZm&apos;,function()&#123;</div><div class="line">        this.formZm = function(obj)&#123;</div><div class="line">            var res = &apos;&apos;;</div><div class="line">            for (key in obj)&#123;</div><div class="line">                res+=key +&quot;=&quot; +obj[key] + &quot;&amp;&quot;;</div><div class="line">            &#125;</div><div class="line">            res = res.slice(0,-1);</div><div class="line">            console.log(res);</div><div class="line">            return res;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&apos;zmController&apos;&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>打印输出:name=zm&amp;age=23</p>
<h3 id="value自定义服务"><a href="#value自定义服务" class="headerlink" title="value自定义服务"></a>value自定义服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">* value 表现形式上是一个服务</div><div class="line">* 本质上可看做是一个常量。</div><div class="line">* 常量：其值始终保持不变的量。</div><div class="line">* 变量：其值可以发生改变的量。</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/4017085-0d3bd25d0f7343e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;script src=angular.js&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    /*1.创建模块*/</div><div class="line">    var app = angular.module(&apos;app&apos;,[]);</div><div class="line">    /*2.创建控制器*/</div><div class="line">    //也要注入进去</div><div class="line">    app.controller(&quot;zmController&quot;,[&quot;$scope&quot;,&quot;version&quot;,&quot;userName&quot;,function($scope,version,userName)&#123;</div><div class="line">        console.log(version);</div><div class="line">        console.log(userName);</div><div class="line"></div><div class="line">    &#125;])</div><div class="line"></div><div class="line">    app.value(&apos;version&apos;,1.0);</div><div class="line">    /*通过key来保存一个值*/</div><div class="line">    app.value(&quot;userName&quot;,&quot;zm&quot;)</div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body ng-app=&apos;app&apos; ng-controller=&apos;zmController&apos;&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>打印结果: 1.0  zm</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/16/7.跨域/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          跨域
        
      </div>
    </a>
  
  
    <a href="/2017/01/23/6.$http服务/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">$http服务 </div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2016 张敏
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">carrotming</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>